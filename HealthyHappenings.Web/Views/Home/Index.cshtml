@{ 
	ViewBag.Title = "Home Page";
}
@section featured {
	<section class="featured">
		<div class="content-wrapper">

			<p>
				Wellness Works is designed to provide you with tools and resources to improve your health and the health of your family members. In launching Wellness Works, we are placing employee health and wellness in the forefront.

                With the demands of work and personal obligations, we often forget to take care of ourselves. Wellness Works is designed to meet the needs of individuals on the go. There is no better time than now to start taking better care of yourself!
			</p>
		</div>
	</section>
}
 @using (Html.BeginForm("Index", "Home"))
 {

	 <table style="width: 100%;">
		 <tr>
			 <td>Your current city is : <label>@TempData["CurrentCity"]</label></td>
			 <td style="text-align: right;">
				 <input type="button" id="btnCallAPI" value="@ViewBag.EventCount &nbsp; events" class="button" />
			 </td>

		 </tr>
		 <tr>
			 <td><input type="text" id="txtCity" name="txtCity" /></td>
			 <td>&nbsp;</td>
		
		 </tr>
		 <tr>
		
			 <td><input type="submit" id="btnUpdateCity" value="Update City" class="button" /></td>
			 <td>&nbsp;</td>
		 </tr>
		 <tr>
			 <td>&nbsp;</td>
			 <td>&nbsp;</td>
		 </tr>
		 <tr>
			 <td>&nbsp;</td>
			 <td>&nbsp;</td>
		 </tr>
		 <tr>
			 <td>&nbsp;</td>
			 <td>&nbsp;</td>
		 </tr>


	 </table>
 }


<div id="popup_boxParent">
	<b>Happening Events this months</b>
	<a id="popupBoxClose">
		<img src="~/Images/Close.png" height="10" width="10" /></a>

	<div id="popup_box">
		<table>
			@if (Model != null)
			{
				foreach (var item in Model)
				 {

					 <tr>
						 <td>
							 <a href="@item.Url" target="_blank">
								 <img src="@item.Logo" height="100" width="120" />
							 </a>

						 </td>
						 <td style="background-color: #EFF7FF;">
							 <table>
								 <tr>
									 <td>
										 <h3>
											 <a target="_blank" href="@item.Url">@item.Title</a>

										 </h3>
									 </td>
								 </tr>
								  
									   <tr>
										   <td style="font-size: 12px;">@item.StartDate - @item.EndDate</td>
									   </tr>
								  
								  @if (@item.Organizer != null)
								  {
									  <tr>
										  <td style="font-size: 12px;">Organizer :<a target="_blank" href="@item.Organizer.Url"> @item.Organizer.Name</a></td>
									  </tr>
								  }
								 @if (@item.Venue != null)
								 {
									 <tr>
										 <td style="font-size: 12px;">Venue : @item.Venue.Name</td>
									 </tr>
								 }
							 </table>
						 </td>
					 </tr>
					 <tr style="background-color: white;">
						 <td colspan="2"></td>
					 </tr>
				 }
			}
		</table>
	</div>
</div>

<style type="text/css">
	.button {
		border-top: 1px solid #96d1f8;
		background: #65a9d7;
		background: -webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#65a9d7));
		background: -webkit-linear-gradient(top, #3e779d, #65a9d7);
		background: -moz-linear-gradient(top, #3e779d, #65a9d7);
		background: -ms-linear-gradient(top, #3e779d, #65a9d7);
		background: -o-linear-gradient(top, #3e779d, #65a9d7);
		padding: 9.5px 19px;
		-webkit-border-radius: 17px;
		-moz-border-radius: 17px;
		border-radius: 17px;
		-webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;
		-moz-box-shadow: rgba(0,0,0,1) 0 1px 0;
		box-shadow: rgba(0,0,0,1) 0 1px 0;
		text-shadow: rgba(0,0,0,.4) 0 1px 0;
		color: white;
		font-size: 14px;
		font-family: Georgia, serif;
		text-decoration: none;
		vertical-align: middle;
		width: 120px;
		height: 30px;
	}

		.button:hover {
			border-top-color: #28597a;
			background: #28597a;
			color: #ccc;
		}

		.button:active {
			border-top-color: #1b435e;
			background: #1b435e;
		}
	/* popup_box DIV-Styles*/
	#popup_box {
		display: none; /* Hide the DIV */
		position: fixed;
		_position: absolute; /* hack for internet explorer 6 */
		height: 310px;
		width: 700px;
		background: #FFFFFF;
		left: 300px;
		top: 150px;
		z-index: 100; /* Layering ( on-top of others), if you have lots of layers: I just maximized, you can change it yourself */
		margin-left: 15px;
		/* additional features, can be omitted */
		border: 0px solid #7ac0da;
		padding: 15px;
		font-size: 15px;
		-moz-box-shadow: 0 0 5px #7ac0da;
		-webkit-box-shadow: 0 0 5px #7ac0da;
		box-shadow: 0 0 5px #7ac0da;
		overflow: auto;
	}

	#popup_boxParent {
		display: none; /* Hide the DIV */
		position: fixed;
		_position: absolute; /* hack for internet explorer 6 */
		height: 310px;
		width: 700px;
		background: #FFFFFF;
		left: 300px;
		top: 121px;
		z-index: 1000; /* Layering ( on-top of others), if you have lots of layers: I just maximized, you can change it yourself */
		margin-left: 15px;
		/* additional features, can be omitted */
		padding-left: 15px;
		padding-right: 15px;
		padding-bottom: 15px;
		font-size: 15px;
	}



	#container {
		background: #d2d2d2; /*Sample*/
		width: 100%;
		height: 100%;
	}

	a {
		cursor: pointer;
		text-decoration: none;
	}

	/* This is for the positioning of the Close Link */
	#popupBoxClose {
		font-size: 20px;
		line-height: 15px;
		right: 5px;
		top: 5px;
		position: absolute;
		color: #6fa5e2;
		font-weight: 500;
	}
</style>
<script src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js" type="text/javascript"></script>
<script type="text/javascript">
	$(document).ready(function () {
		// When site loaded, load the Popupbox First     

		$('#popupBoxClose').click(function () {
			unloadPopupBox();
		});

		function unloadPopupBox() {
			// TO Unload the Popupbox            
			$('#popup_box').fadeOut("slow");
			$('#popup_boxParent').fadeOut("slow");
			$("#container").css({ // this is just for style              
				"opacity": "1"
			});
		}
		function loadPopupBox() {
			// To Load the Popupbox           
			$('#popup_box').fadeIn("slow");
			$('#popup_boxParent').fadeIn("slow");
			$("#container").css({ // this is just for style                
				"opacity": "0.3"
			});
		}


		$("#btnCallAPI").click(function () {
			loadPopupBox();
		});
	});

</script>
